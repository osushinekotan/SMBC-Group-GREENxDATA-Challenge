# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /cv: stratified_kfold

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

experiment_name: ${hydra:job.override_dirname}
notebook: tabular_v01

pipeline:
  _target_: sklearn.pipeline.Pipeline
  steps:
    - - union1
      - _target_: src.experiment.pipeline.PandasFeatureUnion
        n_jobs: -1
        transformer_list:
          - - created_at
            - _target_: src.experiment.customs.feature.CreatedAtTransformerV01
          - - curb_loc
            - _target_: src.experiment.customs.feature.CurbLocationTransformerV01
          - - steward
            - _target_: src.experiment.customs.feature.StreetWidthTransformerV01
          - - guards
            - _target_: src.experiment.customs.feature.GuardsTransformerV01
          - - sidewalk
            - _target_: src.experiment.customs.feature.SidewalkTransformerV01
          - - user_type
            - _target_: src.experiment.customs.feature.UserTypeTransformerV01
          # - - problems
          #   - _target_: src.experiment.customs.feature.ProblemsTransformerV01
          - - nta
            - _target_: src.experiment.customs.feature.NtaTransformerV01
          - - raw
            - _target_: src.experiment.customs.feature.RawTransformer
              cols: [tree_dbh, cb_num, st_senate, st_assem, cncldist, borocode]
          - - ordinal
            - _target_: src.experiment.customs.feature.OrdinalTransformer
              cols:
                [spc_common, spc_latin, cncldist, boro_ct, boroname, zip_city]
    - - final
      - _target_: src.experiment.customs.feature.DummyTransformer
  memory: ${paths.output_dir}
